# @package _global_
defaults:
  - _self_

# === TASK CONFIGURATION ===
robot_type: xhand # "inspire", "allegro", "g1"
embodiment_type: bimanual # "left", "right", "bimanual", "CMU"
task: pick_spoon_bowl

# === DATASET CONFIGURATION ===
dataset_dir: example_datasets
dataset_name: oakink
data_id: 0
model_path: ""
data_path: ""

# === SIMULATOR CONFIGURATION ===
simulator: mjwp # "isaac" | "mujoco" | "mjwp" | "mjwp_cons" | "mjwp_eq" | "mjwp_cons_eq" | "kinematic"
device: cuda:0
# Simulation timing
sim_dt: 0.01 # simulation timestep
ctrl_dt: 0.4 # control timestep
ref_dt: 0.02 # reference data timestep (1/50.0)
render_dt: 0.02 # rendering timestep
horizon: 1.6 # planning horizon
knot_dt: 0.4 # knot point spacing
max_sim_steps: -1 # maximum simulation steps (-1 for unlimited)
# Simulation constraints
nconmax_per_env: 80 # max contacts per environment
njmax_per_env: 300 # max joints per environment
# Simulation annealing
num_dyn: 1 # number of environments for annealing, used for virtual contact constraint
# Domain randomization
num_dr: 1 # number of domain randomization groups, used for domain randomization
pair_margin_range: [-0.005, 0.005]
xy_offset_range: [-0.005, 0.005]
perturb_force: 0.0
perturb_torque: 0.0

# === OPTIMIZER CONFIGURATION ===
# Sampling parameters
num_samples: 1024
temperature: 0.1
max_num_iterations: 32
improvement_threshold: 0.01
improvement_check_steps: 1
# Noise scheduling
first_ctrl_noise_scale: 0.5
last_ctrl_noise_scale: 1.0
final_noise_scale: 0.1
exploit_ratio: 0.01
exploit_noise_scale: 0.01
# Noise scaling by component
joint_noise_scale: 0.15
pos_noise_scale: 0.03
rot_noise_scale: 0.03
# Reward scaling
base_pos_rew_scale: 1.0
base_rot_rew_scale: 0.3
joint_rew_scale: 0.003
pos_rew_scale: 1.0
rot_rew_scale: 0.3
vel_rew_scale: 0.0001
terminal_rew_scale: 1.0
# Termination threshold
terminate_resample: false
object_pos_threshold: 0.1 # meters
object_rot_threshold: 0.3 # radians

# === VISUALIZATION CONFIGURATION ===
show_viewer: true
viewer: mujoco-rerun # "mujoco" | "rerun" | "viser" | "isaac"
rerun_spawn: true
save_video: true
save_rerun: false
save_metrics: true
save_info: true

# === TRACE RECORDING ===
trace_dt: 0.02 # 1/50.0
num_trace_uniform_samples: 4
num_trace_topk_samples: 2
trace_site_ids: []

# === AUTOMATICALLY SET PROPERTIES ===
# Computed timesteps
horizon_steps: -1
knot_steps: -1
ref_steps: -1
ctrl_steps: -1
# Model dimensions
nq_obj: -1 # object DOF
nq: -1 # total position DOF
nv: -1 # total velocity DOF
nu: -1 # total control DOF
npair: -1 # total pair DOF
# Computed tensors (these will be set programmatically)
noise_scale: null
beta_traj: -1.0
# Runtime state
env_params_list: []
viewer_body_entity_and_ids: []
output_dir: ""

# Hydra configuration
hydra:
  run:
    dir: .
  output_subdir: null
